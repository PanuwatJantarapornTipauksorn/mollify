#summary Configuration for MySQL
#labels Phase-Deploy

= 1. Preparations =

Before installing Mollify, you have to make following preparations:

1) Create MySQL user and database for Mollify, and grant the new user CREATE/INSERT/UPDATE/DELETE rights for the created database.

2) Create configuration.php as in following example:

{{{
<?php
	$CONFIGURATION_TYPE = 'mysql';
	$DB_USER = "mollify";
	$DB_PASSWORD = "mollify";
	$DB_HOST = "localhost"; //optional
	$DB_DATABASE = "mollify"; //optional
	$DB_TABLE_PREFIX = "mollify_"; //optional
	$DB_ENGINE = "innodb"; //optional, used only in installation
?>
}}}

Values $DB_HOST, $DB_DATABASE, $DB_TABLE_PREFIX and $DB_ENGINE are optional. If these are not defined, it is assumed that MySQL server is running on localhost, database is called "mollify" and tables are accessed without name prefix.

With localhost database, you can also provide socket for the connection:

{{{
	$DB_SOCKET = "/tmp/mysql5.sock";
}}}

Default MySQL engine used is InnoDB. With option $DB_ENGINE you can change this (NOTE used only on installation).

{{{
	$DB_ENGINE = "myisam";
}}}

= 2. Installation =

Installing Mollify to MySQL database can be done with installer script. It does, however, require MYSQLI extension installed in the server. If this is not available, you have to install manually as described in chapter 2.2.

== 2.1. Installation with Installer ==
Start installation by opening following page into your browser: "`http://[URL_TO_MOLLIFY_BACKEND_DIR]/install/`", where `[URL_TO_MOLLIFY_BACKEND_DIR]` is the mollify backend folder where, for example, configuration.php and r.php are located.

Installer will check your configuration and system, and guide you through the installation.

== 2.2. Manual Installation ==

Database tables can be created manually by running script "`/include/mysql/sql/create_tables_[VERSION].sql`". For required parameters, run "`/include/mysql/sql/params_[VERSION].sql`" as well.

Before running these scripts, replace text `{TABLE_PREFIX}` with the prefix defined in configuration, or remove them if no prefix is used.

To be able to log into Mollify, you must create first admin user manually with following SQL:

{{{
	INSERT INTO [PREFIX_]user (name, password, permission_mode) VALUES ('[USER_NAME]','[PASSWORD]','A')
}}}

where `[USER_NAME]` is freely selectable user name, and `[PASSWORD]` an MD5 hashed password.

= 3. Finishing Installation =

After Mollify installation is over, open administration utility to configure users and published folders at `http://[URL_TO_MOLLIFY_BACKEND_DIR]/admin`