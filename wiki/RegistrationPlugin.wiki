#summary Registration plugin

= Introduction =

Registration plugin is built-in plugin that provides functionality for user self registration and confirmation.

= Configuration =

Registration has following settings:
  * require_approval (by default TRUE)
  * permission
  * groups
  * folders
  * user_folder

If approval is required, confirmed registration will not create user yet. Instead, confirmed registrations are listed in admin view, where admin user can approve. Using notificator plugin, admins can get email notifications for confirmed registrations.

Permission is the permission level value (filesystem access) for the created user default permission, see Permissions for possible values. If not given, no default permission is added, and system default is applied.

Groups is a list of user group ids for the created user. If not set, user is not assigned to any groups.

Folders is a list of folder ids for the created user. If not set, user is not assigned to any folders.

User folder is an option that creates user folders automatically after registration (leave out if no folders need to be created).

For example:

{{{
	$CONFIGURATION = array(
		...,
		"plugins" => array(
			"Registration" => array(
				"require_approval" => TRUE,
				"permission" => "rw",
				"folders" => array("1", "3"),
				"user_folder" => array("path" => "/foo/users", "folder_name" => "User Folder", "add_to_users" 
=> array("1", "2"))
			)
		)
	);
}}}


For user folders, the parameters are:
  *  "`path`" is the place where user folders are created, use a folder that is not published.
  * "`folder_name`" is a name for the folder. Leave it out if you want to name it after the user.
  *  "`add_to_users`" is a list of user ids that also see this folder. Useful for listing admins who need to 
control these folders.

Registration plugin requires installation via Mollify update util.

To enable mail notifications, add following settings:
{{{
	$CONFIGURATION = array(
		...,
		"enable_mail_notification" => TRUE,
		"mail_notification_from" => "admin@your.host"
	);
}}}

The setting "mail_notification_from" defines the address which the mail is sent from.

Register client plugin with following client settings:

{{{
<script type="text/javascript">
	mollify.App.init({
		...
		}, [
			new mollify.plugin.RegistrationPlugin()
		]
	});
}}}

= Registration =

Once registration plugin is installed, registration page is at "http://host/backend/plugin/Registration". Users can fill out the form presented, and they will receive a notification mail. Mail provides a link that will confirm the registration.

Optionally confirmation can be done at "http://host/backend/plugin/Registration?confirm=[EMAIL]", where [EMAIL] is the email address (in url encoded format) given in registration. This opens a form where the registration key is required.